clc;
clear;


%% Define basic variables and working directory
currentDir = [pwd];
baseDir = 'C:\Users\61946\Documents\GitHub\SeismicDesignModule';

ID1 = 0:1:80;
ID2 = 81:3:566;
ID3 = 567:3:1052;
ID4 = [1053, 1056, 1059, 1062, 1065, 1068, 1071, 1074, 1080, 1083, 1086, ... 
    1089, 1092, 1095, 1098, 1101, 1104, 1107, 1110, 1113, 1116, 1119, 1122, ...
    1125, 1128, 1134, 1137, 1140, 1143, 1146, 1149, 1152, 1155, 1158, 1161, ...
    1164, 1167, 1170, 1173, 1176, 1188, 1191, 1194, 1197, 1200, 1203, 1206, ...
    1209, 1212, 1215, 1218, 1221, 1224, 1227, 1242, 1245, 1248, 1251, 1254, ...
    1257, 1260, 1263, 1266, 1269, 1272, 1275, 1278, 1281, 1284, 1296, 1299, ...
    1302, 1305, 1308, 1311, 1314, 1317, 1320, 1323, 1326, 1329, 1332, 1335, ...
    1338, 1350, 1353, 1356, 1359, 1362, 1365, 1368, 1371, 1374, 1377, 1380, ...
    1383, 1404, 1407, 1410, 1413, 1416, 1419, 1422, 1425, 1428, 1431, 1434, ...
    1437, 1458, 1461, 1464, 1467, 1470, 1473, 1476, 1479, 1482, 1485, 1488, ...
    1491, 1512, 1515, 1518, 1521, 1524, 1527, 1530, 1533];
ID5 = [1539, 1542, 1566, 1569, 1572, 1575, 1578, 1581, 1584, 1587, 1590, ...
    1593, 1596, 1599, 1620, 1623, 1626, 1629, 1632, 1635, 1638, 1641, 1644, ...
    1647, 1650, 1653, 1674, 1677, 1680, 1683, 1686, 1689, 1692, 1695, 1701, ...
    1704, 1707, 1728, 1731, 1734, 1737, 1740, 1743, 1746, 1749, 1755, 1758, ...
    1761, 1782, 1785, 1788, 1791, 1794, 1797, 1800, 1803, 1809, 1812, 1815, ...
    1836, 1839, 1842, 1845, 1848, 1851, 1863, 1866, 1890, 1893, 1896, 1899, ...
    1902, 1905, 1917, 1920, 1944, 1947, 1950, 1953, 1956, 1959, 1971, 1998, ...
    2001, 2004, 2007, 2010, 2013];

IDs = [ID1, ID2, ID3, ID4, ID5];

exceptID = [];

%% Extract pushover curve
% for indx = 0:length(ID3)
% buildingID = ID4(indx)
buildingID = 1083
pushoverDir = strcat(baseDir, '\BuildingNonlinearModels\Building_', ...
    num2str(buildingID), '\PushoverAnalysis\PushoverOutput');
driftDir = strcat(pushoverDir, '\StoryDrifts');
forceDir = strcat(pushoverDir, '\BaseReactions');
    
cd (driftDir);
tempDrift = importdata('Roof.out');
roofDrift = tempDrift(:,2);

cd (forceDir);
tempForce = importdata('XReactions.out');
baseReaction = sum(tempForce(:,2:end), 2)*(-1);
    
plot(roofDrift, baseReaction, 'linewidth', 2);
hold on
xlim([0, 0.04])

% end
hold off
cd (currentDir);